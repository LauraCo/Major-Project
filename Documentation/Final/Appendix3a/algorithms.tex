\chapter{Algorithm Code Examples}
\label{appendix:algorithms}

\section{Shannon Entropy}

\begin{figure}[H]
  \begin{minted}
  [
  %gobble=2,
  xleftmargin= 0.5cm,
  numberblanklines=true,
  numbersep=12pt,
  numbersep=5pt,
  gobble=0,
  frame=leftline,
  breaklines,
  %frame=lines,
  %framesep=2mm,
  baselinestretch=1.2,
  fontsize=\small,
  linenos
  ]
  {MATLAB}
p=0.00000001:1/10000:0.9999999999;
entTable= -(p.*log2(p)+(1-p).*log2(1-p));
...
ent= sum(sum(entTable(floor(meanImg*9999.999999+1))));
ent=ent/prod(size(meanImg));   % Return mean pixel entropy.
  \end{minted}
  \caption{Shannon entropy lookup table implementation in MATLAB.}
  \label{fig:shannon-entropy-matlab}
\end{figure}

\section{Non-Probabilistic Entropy}

\begin{figure}[H]
  \begin{minted}
  [
  %gobble=2,
  xleftmargin= 0.5cm,
  numberblanklines=true,
  numbersep=12pt,
  numbersep=5pt,
  gobble=0,
  frame=leftline,
  breaklines,
  %frame=lines,
  %framesep=2mm,
  baselinestretch=1.2,
  fontsize=\small,
  linenos
  ]
  {MATLAB}
[imgMu, lowMu, medMu, highMu] = membership(meanImg);

pixelEnt = -(imgMu(1:numel(imgMu)).*log10(imgMu(1:numel(imgMu))) + (1-imgMu(1:numel(imgMu))).*log10(1-imgMu(1:numel(imgMu))));
pixelEnt(isnan(pixelEnt))= 0; % Any NaNs are set to 0
imageEnt = num2cell(pixelEnt);
ent = 1/numel(imgMu)*sum(cellfun(@sum, imageEnt));
entropy=sum(ent);
  \end{minted}
  \caption{Non-Probabilistic entropy implementation in MATLAB.}
  \label{fig:nonProb-entropy-matlab}
\end{figure}

\section{Hybrid Entropy}

\begin{figure}[H]
  \begin{minted}
  [
  %gobble=2,
  xleftmargin= 0.5cm,
  numberblanklines=true,
  numbersep=12pt,
  numbersep=5pt,
  gobble=0,
  frame=leftline,
  breaklines,
  %frame=lines,
  %framesep=2mm,
  baselinestretch=1.2,
  fontsize=\small,
  linenos
  ]
  {MATLAB}
[imgMu, lowMu, highMu] = hybridMembership(meanImg);

lowCount = 0;
highCount = 0;

for i=1:numel(imgMu)
    if lowMu(i) > highMu(i)
        lowCount = lowCount + 1;
    elseif highMu(i) > lowMu(i)
        highCount = highCount + 1;
    end
end

eLow0 = (1 - lowMu).*exp(lowMu);
eLow0 = (1/(lowCount)) * sum(sum(eLow0));

eLow1 = lowMu.*exp(1-lowMu);
eLow1 = (1/(lowCount)) * sum(sum(eLow1));

hybridLow = -(lowCount / (lowCount+highCount))*log10(1 - eLow0);
hybridLow = hybridLow - (highCount / (lowCount+highCount)*log10(eLow1));

entropy = hybridLow;

  \end{minted}
  \caption{Hybrid entropy implementation in MATLAB.}
  \label{fig:hybrid-entropy-matlab}
\end{figure}
